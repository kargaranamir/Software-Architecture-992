% Chapter 2
\chapter{قابلیت همکاری}
\section{تعریف قابلیت همکاری}
قابلیت همکاری \LTRfootnote{Interoperability} نیازمندی‌ای است که به میزان توانایی دو یا بیشتر سیستم، در انتقال معنادار اطلاعات از طریق رابط \LTRfootnote{Interface} هایشان در یک زمینه ی خاص می پردازد.
این تعریف علاوه بر توانایی مبادله‌ی صحیح اطلاعات که به قابلیت همکاری نحوی \LTRfootnote{Syntatic Interoperability} منجر می شود به بعد فهم صحیح اطلاعات مبادله شده توسط طرفین (قابلیت همکاری معنایی \LTRfootnote{semantic Interoperability} ) نیز تاکید دارد.

زمانی که از قابلیت همکاری صحبت به میان می آید بررسی یک سیستم در انزوا معنا نمی دهد فلذا باید در مورد سیستم‌های همکار، نحوه ی همکاری و شرایط همکاری صحبت کرد.

از جمله دلایلی که قابلیت همکاری در میان چندین سیستم را دارای اهمیت می سازد،‌ دو مورد زیر مطرح هستند:
\begin{enumerate}
\item
سیستم طراحی شده قرار است خدماتی را در اختیار سایر سیستم های از پیش شناخته شده یا نشده قرار دهد. برای مثال \lr{Google Maps} سیستمی است که خدمات زیادی را به سایر سیستم‌ها در حوزه حمل و نقل درون شهری از طریق رابط‌های خود ارائه می‌دهد که در هر ۳ سیستم تاکسیرانی آنلاین، اشتراک خودرو و پارکینگ عمومی کاربرد دارد.
\item
سیستم متشکل از زیر سیستم‌هایی است که هر یک وظایف مشخصی را بر عهده دارند و همچنین این زیر سیستم‌ها به یک دیگر وابسته بوده و خدماتی را به یکدیگر ارائه می دهند. برای مثال تک تک سیستم‌های حوزه حمل و نقل درون شهری که دارای که شامل چندین زیر سیستم است.
\end{enumerate}

فرآیند همکاری دو مهم کشف\LTRfootnote{Discovery} و بکارگیری پاسخ ها \LTRfootnote{Handling of the response} را در بر دارد. مشتریان یک سیستم پیش از و یا در زمان همکاری با یک سیستم نیاز دارند تا از مکان\LTRfootnote{Location}‌،اطلاعات هویتی\LTRfootnote{Identity}‌و همچنین رابط های در دسترس سیستمی که قصد همکاری با آن را دارند اطلاع داشته باشند. در زمان ایجاد همکاری و دریافت پیام از سایر سیستم‌ها، سیستم می‌تواند یکی از سه رویکرد زیر را در پیش گیرد:
\begin{enumerate}
\item
حالت اول این است که سیستم پاسخ را به سیستمی که درخواست را ارسال نموده است بازگرداند. همانند بسیار از سیستم های \lr{Server-Client} : که می‌توان به درخواست تاکسی آنلاین اشاره کرد که درخواست کاربر به سرور ارسال می‌شود.
\item
گاهی ممکن است پاسخ به درخواست کننده‌ی سرویس بازگشت داده نشود و در عوض پاسخ به سیستمی دیگر ارسال گردد.
\item
گاهی سیستم، پاسخ را برای تمامی سیستم هایی که ممکن است علاقه‌مند باشد ارسال می کند.
\end{enumerate}

\section{سناریوی عمومی قابلیت همکاری}
سناریو‌ی عمومی قابلیت همکاری به صورت زیر است:
\begin{itemize}
\item
منبع محرک\LTRfootnote{Source of stimulus} : سیستمی که شروع کننده‌ی همکاری است.
\item
محرک\LTRfootnote{Stimulus} : در‌خواست تبادل اطلاعات میان سیستم‌ها
\item
محصول\LTRfootnote{Artifact}: سیستمی که قصد تبادل اطلاعات با آن وجود دارد: برای مثال هر سرویس ثالثی که سرویسی را در حوزه حمل و نقل ارائه می‌دهد، مانند سرویس پیدا کردن مسیر بین دو نقطه
\item
محیط\LTRfootnote{Enviroment}:مجموعه سیستم‌هایی که قصد تبادل اطلاعاتی میان آن‌ها وجود دارد و در هنگام اجرا و یا پیش از آن شناخته می‌شوند.
\item
پاسخ\LTRfootnote{Response} : درخواست برای همکاری باعث تبادل اطلاعات می‌شود. اطلاعات توسط طرف گیرنده از نظر نحوی و معنایی قابل درک است. همچنین، این درخواست رد می شود و نهادهای مربوطه از آن مطلع می شوند. در هر حال ممکن است درخواست های انجام شده توسط سیستم‌ها ثبت\LTRfootnote{logged} شود.
\item
اندازه گیری پاسخ\LTRfootnote{Response Measure}: درصدی از اطلاعات که به درستی مبادله شده‌اند و یا درصدی از اطلاعات مبادله شده که به درستی پذیرفته نشده‌اند، می توانند روش های اندازه گیری پاسخ باشند.
\end{itemize}

برای دست یابی به هر نیازمندی مجموعه ای از تکنیک‌ها را به کار می بندیم که در مورد قابلیت همکاری این تکنیک ها شامل مکان‌یابی\LTRfootnote{Locate}  و مدیریت ارتباط‌ها \LTRfootnote{Manage Interface} است.

در دسته بندی مکان یابی روش 	کشف سرویس \LTRfootnote{Discover System} در زمان اجرا اقدام به کشف سیستمی که قصد تبادل پیام با آن را داریم می کند. یک سرویس می تواند با استفاده از نوع سرویس،‌ نام،‌ مکان و سایر خصیصه‌ها مکان‌یابی شود.

در مقابل در دسته بندی مدیریت ارتباط ها دو روش معمول هماهنگ سازی\LTRfootnote{Orchestrate} و درخور‌سازی رابط\LTRfootnote{Tailor interface} از جمله روش های معمول به شمار می روند. روش هماهنگ‌سازی  با استفاده از مکانیزم کنترلی می‌تواند امکان هماهنگی و مدیریت توالی فراخوانی سرویس‌های خاص را فراهم سازد و در کنار آن روش درخورسازی ارتباط به افزودن یا کاهش امکانات به یک رابط توجه دارد.

در زمینه ی قابلیت همکاری به دلیل وجود چالش های مشترک در معماری های متفاوت استاندارد‌های از پیش تعریف شده ی زیادی وجود دارند اما به دلیل سیر تکاملی که استاندارد ها معمولا طی می کنند، نمی توان معماری سیستم را بر پایه ی استاندارد ها طراحی کرد. پیشنهاد می شود که همواره ابتدا با توجه به سایر فاکتور های تاثیر گذار معماری انتخاب شود و سپس از میان استاندارد های منطبق با معماری،‌ به انتخاب استاندارد های مناسب با معماری پرداخته شود.

\section{طراحی فهرست بازبینی برای قابلیت همکاری}

در ادامه فهرستی را برای پشتیبانی از روند طراحی و تجزیه و تحلیل برای قابلیت همکاری ارائه می‌شود.


\subsection{تخصیص مسئولیت ها} 
در زمان تخصیص مسئولیت‌ها باید \LTRfootnote{Allocation of Responsibilities} به موارد زیر توجه شود:
\begin{itemize}
\item
معمار سیستم باید مشخص کند که انجام کدام یک از وظائف سیستم نیازمند همکاری با سایر سیستم‌هاست.
\item
اطمینان حاصل شود که مسئولیت هایی به جهت تشخیص درخواست‌های همکاری با سیستم‌های خارجی شناخته شده و یا ناشناخته اختصاص یافته است.
\item
معماری باید مسئولیت پاسخ به وظائف زیر را در سیستم لحاظ کرده باشد:
\begin{itemize}
\item
پذیرش درخواست همکاری
\item
تبادل اطلاعات
\item
عدم پذیرش درخواست همکاری
\item
اعلان و آگاهی سازی هویت های مرتبط با سیستم از همکاری با سایر سیستم ها
\item
ثبت درخواست
\end{itemize}
\end{itemize}

\subsection{مدل هماهنگی}
مدل هماهنگی\LTRfootnote{Coordination Model} باید با در نظر گرفتن دغدغه و نیاز های معماری به آن‌ها پاسخ دهد. مواردی که برای پاسخ دهی به نیاز کارایی\LTRfootnote{Performance} باید توسط مدل هماهنگی مورد توجه قرار گیرند شامل موارد زیر است:
\begin{itemize}
\item
حجم ترافیکی که به صورت مستقیم توسط سیستم‌های تحت کنترل و حتی سیستم‌هایی که کنترلی بر روی ترافیک آن ها ندارد ایجاد می شود.
\item
ارسال به موقع پیام‌ها از سمت سیستم
\item
هم زمانی\LTRfootnote{Currency} ارسال پیام از سمت سیستم
\item
و شاید مهم‌تر از همه این است که اطمینان حاصل شود سیستم‌های تحت کنترل فرضیات قابل انطابقی در همکاری با سایر سیستم هایی که کنترلی بر روی آن ها وجود ندارد، در نظر دارد.
\end{itemize}

\subsection{مدل داده}
مدل داده\LTRfootnote{Data Model}  از مهم ترین بخش هایی است که اگر به درستی بر آن نظارت صورت نپذیرد می تواند عواقب سنگینی را به همراه داشته باشد.در مدل داده ای باید از برداشت یکسان طرفین همکاری از اطلاعات اطمینان حاصل کنید.به این منظورم لازم است تا انتزاعات اصلی داده های مبادله شده از نظر نحو و معناشناسی مورد بررسی دقیق قرار بگیرند.
\subsection{نگاشت در میان عناصر معماری}
جدا از ملاحظاتی که در نگاشت در میان عناصر معماری\LTRfootnote{Mapping among Architectural Elements} درباره امنیت،‌ دسترس‌پذیری و کارائی وجود دارد و در سایر فصل های این مستند به آن ها پرداخته خواهد شد؛ در رابطه با قابلیت همکاری مساله ی مهم نگاشت درست از اعضای سازنده ی پردازنده ها است.
\subsection{مدیریت منابع}
لازم است معمار نرم افزار اطمینان حاصل کند منابعی که سیستم به جهت همکاری با سایر سیستم ها نیاز دارد هیچ گاه سیستم را تحت فشار غیر قابل تحمل قرار نخواهد داد و بار منابع تحمیل شده توسط الزامات همکاری همواره قابل قبول است.

در ضمن نیاز یک سیستم ناظر با هدف تخصیص منابع به صورت منصفانه و بر پایه ی سیاست های تبیین شده در معماری باید حتما دیده شود.
\subsection{زمان اتصال}
لازم است سیستم هایی که ممکن است با یکدیگر همکاری داشته باشند شناسایی شده و از رعایت موارد زیر در مورد آن‌ها اطمینان حاصل شود.
\begin{itemize}
\item
از وجود یک سیاست مشخص به منظور همکاری با سیستم‌های شناخته شده و ناشناخته خارجی اطمینان حاصل کنید.
\item
از وجود قوانینی برای عدم پذیرش درخواست‌ها و ثبت درخواست‌هایی که پذیرفته نشده‌اند اطمینان حاصل کنید.
\item
در صورت تاخیر در اتصال، اطمینان حاصل شود که مکانیزم‌هایی از کشف خدمات یا پروتکل‌های جدید مرتبط یا ارسال اطلاعات با استفاده از پروتکل‌های انتخاب شده پشتیبانی می کنند.
\end{itemize}
\subsection{انتخاب فناوری}
در انتخاب فناوری باید روی این مساله تمرکز کرد که انتخاب هر فناوری چه تاثیراتی بر روی رابط‌ها و همکاری سیستم با دیگر سیستم‌ها خواهد داشت. بررسی شود آیا فناوری انتخاب شده توانایی پاسخ گویی به نیاز هایی که توسط قابلیت همکاری مطرح می شوند را دارا هستند و یا خیر؟


\section{مطالعات موردی}
در اینجا مطالعات موردی در ۳ حوزه حمل و نقل درون شهری برای نیاز قابلیت همکاری انجام شده است. 
سیستم با دیگران
با خودش 
با هم کار کنند 
یه سری رابط طراحی کرده باشیم تا بتونن با هم حرف بزنن 

\subsection{تاکسیرانی و حمل‌و‌نقل درون شهری}

اپلیکیشن MyWay : در مستندات این پروژه اعلام شده است که معماری اجازه دارد از یک سرویس ثالث جستجو برای انتخاب مسیر بین دو نقطه استفاده کند. ماژول رابط به نحوی انعطاف‌پذیر است که می‌توان داده جدید را به ازای هر دسته از داده‌ها اضافه کرد. هر ثالثی اجازه دارد فرانت‌اند خود را با استفاده از بک‌اند اپلکیشن پیاده‌سازی کند. مدل داده به راحتی قابل توسعه دادن است تا اجازه دهد که پیشرفت‌های آتی در پروژه قابل اجرا کردن باشد. اپلیکیشن از تاریخچه داده‌های واسط برای ماژول ارزیابی استفاده می‌کند. فرانت‌اند می‌تواند سرویس‌های نقشه مختلف را نمایش دهد. اپلیکیشن نسخه موبایل دارد و بر روی اندروید و ios نیز اجرا می‌شود. 

اپلیکیشن OLA : 

\subsection{اشتراک خودرو و حمل‌و‌نقل درون شهری}


\subsection{پارکنیگ های عمومی و حمل‌و‌نقل درون شهری}

