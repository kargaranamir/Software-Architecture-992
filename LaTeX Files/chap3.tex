% Chapter 3
\chapter{اصلاح‌پذیری}
\section{تعریف اصلاح‌پذیری}
اصلاح‌پذیری
\footnote{Modifiability}
یا همان قابلیت اصلاح یکی از موارد مهمی است که تقریبا در تمامی مدل‌های کیفیت نرم‌افزار از جمله نرم‌افزارهای حوزه حمل و نقل درون شهری مورد سنجش قرار می‌گیرد. در این نیازمندی غیرعملکردی به اهمیت اصلاح‌پذیری نرم‌افزار با هزینه کم پرداخته می‌شود.

برای اصلاح‌پذیری تعاریف زیادی می‌توان ارائه نمود که از جمله‌آن‌ها می‌توان به موارد زیر اشاره کرد  \cite{ciubuancan2020empirical}.
\begin{enumerate}
\item
چقدر نرم‌افزار قابل تغییر است؟
\item 
هزینه تغییر 
\item
میزان سهولت انجام تغییر
\end{enumerate}

مطالعات زیادی نشان داده است که با پرداختن به ویژگی اصلاح‌پذیری می‌توان در حین توسعه به طور چشم‌گیر هزینه یک سیستم‌ نرم‌افزاری را کاهش داد.
همچنین به موجب پرداختن به این ویژگی به معمار نرم‌افزار این امکان داده می‌شود که هزینه‌های نگهداری را پیش‌بینی و ریسک و انعطاف پذیری نرم‌افزار را ارزیابی کند.

\section{سناریوی عمومی اصلاح‌پذیری}

سناریو‌ی عمومی قابلیت اصلاح‌پذیری به صورت زیر است:
\begin{itemize}
\item
منبع محرک\LTRfootnote{Source of stimulus} : هر یک از کاربران، توسعه دهندگان، ادمین‌ها؛ برای مثال در حمل و نقل درون شهری یا اشتراک‌گذاری خودرو کاربران نهایی درخواست دهنده سرویس تاکسی یا خودرو، ادمین‌ها، مدیران و توسعه دهندگان تمامی نرم‌افزارهای این حوزه از جمله مثال‌های منبع محرک هستند.
\item
محرک\LTRfootnote{Stimulus} : اضافه، حذف یا مورد تغییر قرار دادن یک عملکرد، یا تغییر دادن یک ویژگی کیفیت یا ظرفیت یا تکنولوژی: برای مثال کاربران و ادمین‌های نرم‌افزارهای حوزه حمل ونقل درون شهری بسته به دسترسی‌هایی که به نرم‌افزار دارند می‌توانند داده خود یا بقیه را مورد تغییر قرار داده و توسعه‌دهندگان آن‌ها نیز می‌توانند کد را تغییر دهند.
\item
محصول\LTRfootnote{Artifact}:  کد، داده، مولفه‌ها و ...
\item
محیط\LTRfootnote{Enviroment}: در زمان کامپایل، زمان اجرا، زمان ساخت، زمان طراحی
\item
پاسخ\LTRfootnote{Response} : در پاسخ مناسب یک یا چند عملیات رخ می‌دهد. 
در این عملیات‌ها انجام و تست و استقرار تغییر انجام می‌شود.
\item
اندازه گیری پاسخ\LTRfootnote{Response Measure}: برای اندازه‌گیری پاسخ از معیار‌‌های هزینه و تعداد و سایز و پیچیدگی موارد مورد بررسی، تلاش و .. استفاده می‌شود.
\end{itemize}

 تاکتیک‌های زیادی را می‌توان برای نرم‌افزار‌های حوزه حمل و‌ نقل درون شهری در نظر گرفت که بهبود این نیاز کمک کند که هدف همه آن‌ها کنترل پیچیدگی تغییرات و انجام تغییرات، تست و استقرار تغییرات در زمان و هزینه تعیین شده است.

یکی از این تاکتیک‌ها کم کردن حجم ماژول‌های برنامه است. اگر بتوان یک ماژول که را به ماژول‌های کوچکتر تبدیل کرد، آنگاه در این صورت هزینه تغییرات در آینده نیز به صورت میانگین کاهش پیدا می‌کند.
چرا که هرچه حجم ماژول بیشتر باشد هزینه تغییر آن زیادتر است.

تاکتیک دیگر افزایش مقدار چسبندگی
\footnote{\lr{cohesion}}
است. به این صورت که اگر دو وظیفه داخل یک ماژول یک هدف را دنبال نمی‌کنند آنگاه باید آن دو در ماژول‌های متفاوتی قرار بگیرند.
این کار ممکن است موجب ایجاد ماژول‌های جدید یا جابه‌جایی وظایف به ماژول‌های موجود شود.

همچنین بر اساس اصل اتصال آزادانه
\footnote{\lr{loose coupling}} 
تلاش می‌شود که تا حد ممکن وابستگی‌ها ماژول‌ها کاهش یاید و آن‌ها را محدود کرد \cite{loose_coupling}.
 عملیات باز تولید
\footnote{refactor}
را نیز بر اساس همین اصل می‌توان زمانی که دو ماژول تحت تاثیر یک تغییر، تاثیر می‌پذیرند انجام داد. چرا که در واقع قسمتی از آن دو کپی یکدیگر هستند.
و در آخر باید گفت که هر چه عملیات اتصال را بتوان به تعویق بیندازیم تا انعطاف‌پذیری تغییر هر جز حفظ شود و هزینه تغییر خاص هر کدام کاهش یابد بهتر است.


به منظور بهره بری از این تاکتیک‌ها می‌توان با توجه به هریک از پروژه‌های تاکسی آنلاین، اشتراک‌گذاری خودرو و مدیریت پارکینگ یک فهرست بازبینی تنظیم کرد. این موضوع به بهبود نیاز اصلاح‌پذیری پاسخ می‌دهد.

\section{طراحی فهرست بازبینی برای اصلا‌ح‌پذیری}
\subsection{تخصیص مسئولیت ها} 
در حوزه نرم‌افزارهای حمل و نقل درون شهری ممکن است که تغییراتی در هر یک بخش‌های فنی، قانونی، اجتماعی، تجاری نرم‌افزار مربوطه رخ دهد. برای مثال نیاز به یه یک عملکرد جدید در بخش فنی تاکسی آنلاین یا تغییر قانون و سیاست‌های این حوزه برای مدیریت پارکینگ‌ها یا بخش اجتماعی و بازخورد جامعه به نحوه  اشتراک‌گذاری خودرو، در هر یک ممکن است که باعث شود، بخشی تغییر کند. 
باید دید که چه تغییراتی احتمال دارد رخ دهد و برای هر تغییر بالقوه مسئولیت‌هایی تعیین شود. 
همچنین مسئولیت‌هایی که تغییر می‌کنند باید در یک ماژول قرار بگیرند و مسئولیت‌هایی که در زمان‌های مختلف تغییر می کنند در ماژولهای جداگانه قرار بگیرند تا به بهبود این نیاز کمک کنند.

\subsection{مدل هماهنگی}
در این قسمت تعیین شود که کدام ویژگی یا ویژگی کیفیت می تواند در زمان اجرا تغییر کند و این موضوع چگونه بر هماهنگی تأثیر می گذارد. 
در حوزه نرم‌افزارهای حمل و نقل درون شهری ممکن است که هر یک از دستگاه‌ها، پروتکل‌ها و مسیرهای ارتباطی مورد استفاده برای هماهنگی تغییر پیدا کنند. برای مثال ممکن است پروتکل ارتباطی سنسورهای پارکینگ در زمان اجرا تغییر یابد و یا اطلاعات منتقل شده از کاربران در برنامه‌‌های درخواست تاکسی آنلاین یا اشتراک خودرو در زمان اجرا تغییر پیدا کند. به این منظور برای آن دستگاه ها، پروتکل ها و مسیرهای ارتباطی که محتمل است تغییر پیدا کنند اطمینان حاصل شود که تأثیر تغییرات فقط به مجموعه کوچکی از ماژول ها محدود می شود.
\subsection{مدل داده}
در این قسمت تعیین می‌شود که چه تغییراتی (یا دسته بندی تغییرات) در انتزاع داده ها، عملکردهای آنها یا خصوصیات آنها محتمل است که رخ دهد. در حوزه نرم‌افزارهای حمل و نقل درون شهری ممکن است که تغییر یا دسته تغییراتی در انتزاعات داده‌ها شامل ایجاد، شروع اولیه، ماندگاری، دستکاری، ترجمه یا تخریب هر یک رخ بده. به این منظور برای هر تغییر یا دسته تغییر، باید تعیین شود که تغییرات توسط چه منبع محرکی انجام می‌شود. همانگونه که در بخش قبل گفته شد کاربر نهایی، مدیر سیستم یا توسعه دهنده می‌تواند منبع تغییر باشد. در نهایت باید اطمینان حاصل کرد که ویژگی های مورد نیاز کاربر برای انجام تغییر قابل مشاهده است و  کاربر دارای مجوزهای صحیح برای اصلاح داده‌ها، عملکردهای آن یا خصوصیات آن است. در نهایت تخصیص اطمینان حاصل شود تعداد تغییرات بالقوه و شدت اصلاحات در انتزاعات به حداقل ممکن برسد.

\subsection{نگاشت در میان عناصر معماری}
در این قسمت تعیین می‌شود که آیا تغییر نحوه نگاشت قابلیت عناصر محاسباتی (به عنوان مثال فرآیندها، رشته‌ها ، پردازنده ها) در زمان اجرا، زمان کامپایل، زمان طراحی یا زمان ساخت مطلوب است؟
در حوزه حمل و نقل درون شهری نیاز است که تغییرات لازم برای افزودن، حذف یا اصلاح یک تابع یا یک ویژگی کیفیت تعیین شود که این این تعیین به موارد زیر ممکن است وابسته باشد:
\begin{itemize}
\item
اجرای وابستگی‌ها
\item
اختصاص داده به پایگاه داده
\item
اختصاص عناصر زمان اجرا به پردازش ها‌، رشته‌ها یا پردازنده‌ها
\end{itemize}
همچنین اطمینان حاصل شود که چنین تغییراتی با مکانیزمی که اتصال را به تاخیر می‌اندازد انجام شود.

\subsection{مدیریت منابع}
در این قسمت تعیین می‌شود که چگونه اضافه کردن، حذف یا تغییر یک مسئولیت یا ویژگی کیفیت بر استفاده از منابع تأثیر می گذارد. به عنوان مثال در تاکسی آنلاین بر اساس رشد روزافرون کاربران، ممکن است سیستم نیاز به معرفی منابع جدید و حذف و جایگزینی منابع قبلی داشته باشد. یا ایجاد محدودیت‌ها روی منابع اشتراک‌گذاری خودرو که باید اطمینان حاصل کرد که برای تامین نیازهای سیستم کافی هستند. یا ایجاد یک سری واسط برای منابع در مدیریت سیستم‌های پارکینگ تا دسترسی تنها از طریق آن‌ها به صورت کپسوله\LTRfootnote{Capsulated} فراهم شود.
\subsection{زمان اتصال}
در تمامی نرم‌افزارهای حوزه حمل و نقل درون شهری نیاز است که برای هر تغییر یا دسته تغییرات:
\begin{itemize}
\item
آخرین زمانی که باید تغییر ایجاد شود تعیین شود.
\item
مکانیزم مناسب برای اتصال دیرهنگام انتخاب شود.
\item
هزینه معرفی مکانیزم و ایجاد تغییرات با استفاده از مکانیزم انتخاب شده تعیین شود.
\item
همچنین تعداد زیادی انتخاب اتصال معرفی نشود که خود این موضوع مانع تغییر شود، چرا که وابستگی ها در بین گزینه‌ها می تواند پیچیده و ناشناخته باشد.
\end{itemize}
\subsection{انتخاب فناوری}
نیاز است که فناوری مناسب برای نرم‌افزارهای حوزه حمل و نقل درون شهری به گونه‌ای در نظر گرفته شود که انجام تست و استقرار پس از انجام اصلاحات را راحت‌تر کند و همچنین تعیین شود که تغییر خود فناوری چقدر راحت است؟ فناوری‌ها را باید به گونه‌ای انتخاب شوند که بیشترین پشتیبانی از تغییرات را داشته باشند.

\section{مطالعات موردی}

در اینجا مطالعات موردی در ۳ حوزه حمل و نقل درون شهری برای نیاز اصلاح‌‌پذیری انجام شده است.
همانگونه که قبلا بیان شد باید موارد محتملی که ممکن است تغییر پیدا کند شناسایی شوند و مسئولیت‌های مناسب همراه با زمان بندی برای آن‌ها تعیین گردد. در این راه چند تاکتیک مانند کوچک کردن ماژول‌ها یا ترکیب ماژول‌های مرتبط مطرح شد.
از نرم‌افزارهای سنجش کد مانند سونارکیوب
\footnote{Sonarqube}
نیز می‌توان برای کنترل کردن حجم ماژول‌ها و وابستگی آن‌ها نیز استفاده کرد .\cite{sonarqube_cite}
\subsection{تاکسیرانی و حمل‌و‌نقل درون شهری}

اصلاح‌پذیری را می‌توان یکی از زیر مشخصه‌های قابلیت‌‌ نگهداری دانست. در مستندات پروژه MyWay عنوان شده است که معماری نرم‌افزار باید منعطف باشد، تا بتوان هر نمونه آن را در هر شهر به صورت محلی اجرا کرد و قابلیت اشتراک داده نیز بین آن‌‌ها فراهم باشد.
همچنین در توسعه این نرم‌افزار برای باز‌تولید کد نسبت به مواردی که توسط نرم‌افزارهای سنجش کد گزارش کرده‌اند، مواردی نیز در نظر گرفته شده که این باز‌تولید کد چنین مواردی در زمان توسعه موجب بهبود اصلاح‌پذیری می‌شود.
همچنین در چنین سیستم هایی می‌توان به تنظیمات سطح کاربر اشاره کرد که انجام تغییرات و بازگرداندن اطلاعات به حالت اولیه به خوبی امکان انجام آن باید فراهم شود \cite{myway_req}.

\subsection{اشتراک خودرو و حمل‌و‌نقل درون شهری}
در اپلیکیشن هایی که در اکوسیستم های تازه شکل گرفته فعالیت می کنند، یکی از مهم‌ترین دغدغه ها، عدم فرهنگ‌سازی در رابطه با چگونگی استفاده از اپلیکیشن است.عدم وجود فرهنگ تثبیت شده در جامعه سبب می شود این اپلیکیشن ها نیاز داشته باشند تا بسیار چابک عمل کرده و همراه با تغییرات به سرعت خود را اصلاح کنند \cite{carpool_dis}؛ به عنوان مثال وقوع یک مشکل ممکن است قانون گذاران را مجاب کند تا قوانین بر نحوه ی ارائه ی خدمات توسط اپلیکشن های این حوزه اعمال کنند و در چنین شرایطی معماری باید به خوبی از قابلیت اصلاح پذیری پشتیبانی کند.

\subsection{پارکنیگ های عمومی و حمل‌و‌نقل درون شهری}
در حوزه ی پارکنینگ های عمومی ممکن است با پیشرفت سخت افزار و زیر‌ساخت پارکینگ های شهری نیاز باشد تا رابط های سیستم به سرعت خود را با تغییرات جدید هماهنگ کنند فلذا اصلاح‌نقش پررنگی در چنین سیستم هایی نیز ایفا می‌کند؛ به عنوان یک مثال دقیق تر فرض کنید که پارکینگ ها در یک شهر شروع به نصب دستگاه هایی برای پرداخت هزینه ها از طریق تلفن های ساخت شرکت اپل کرده اند، معماری سیستم با برخورداری از اصلاح پذیری بالا می تواند به سرعت امکان استفاده از این نوع پرداخت را برای کاربران نهایی فراهم سازد.
از روی موارد پشتیبانی اپلیکیشنی مثل ParkWhiz می‌توان چنین تغییراتی را در فرمت‌فایل‌ها، پروتکل‌ها و غیره دید \cite{support_term_parkwhiz}.
