% Chapter 1
\chapter{دسترسی‌پذیری}
\section{تعریف دسترسی پذیری}
دسترسی پذیری\LTRfootnote{Availability} به خاصیتی از نرم افزار اطلاق می شود که نرم افزار در لحظه حاضر باشد و از آمادگی انجام وظایف خود برخوردار باشد.در واقع دسترسی پذیری بر پایه ی مفهوم قابلیت اطمینان\LTRfootnote{Reliability} بنا شده با این تفاوت که مفاهیم ترمیم \LTRfootnote{Recovery} را نیز به آن می افزاید.

به طور دقیق تر،‌قابلیت دسترس‌پذیری به توانایی سیستم برای پنهان کردن یا اصلاح شکست ها اشاره دارد؛‌به طوری که مجموع مدت زمان قطع خدمات از یک مقدار لازم در یک بازه زمانی مشخص بیشتر نشود.شکست از زاویه دید سیستم یا ناظر انسانی در محیط تعریف می شود و به معنای انحراف سیستم از مشخصات\LTRfootnote{Specification} آن است به گونه ای که این انحراف قابل مشاهده باشد.آنچه به شکست منجر می شود،خطاست و معمار نرم افزار همواره سعی می کند تا با درک ریشه های شکست سیستمی مقاوت در برابر خطا\LTRfootnote{Resilient} را بنا کند.

از جمله مواردی که دغدغه ی معماری سیستم در زمینه ی دسترسی پذیری است می توان به موارد زیر اشاره کرد:
\begin{itemize}
\item
چگونه خطا های سیستم باید شناسایی شوند؟
\item
چقدر ممکن است خطا های سیستم رخ دهند و عواقب رخداد یک خطا چیست؟
\item
یک سیستم چقدر می تواند خارج از دسترس باشد؟
\item
چگونه می توان از خطا و در نتیجه شکست نرم افزار جلوگیری کرد؟
\item
در زمان رخداد خطا چه اقداماتی لازم هستند؟
\end{itemize}


\section{سناریوی عمومی دسترسی‌پذیری}
سناریو‌ی عمومی دسترسی‌پذیری به صورت زیر است:
\begin{itemize}
\item
منبع محرک\LTRfootnote{Source of stimulus} : چه درون و چه بیرون: افراد، سخت‌افزار، نرم‌افزار، محیط فیزیکی 
\item
محرک\LTRfootnote{Stimulus} : خطا: حذف، خرابی، زمان بندی نادرست، پاسخ نادرست
\item
محصول\LTRfootnote{Artifact}: پروسسورهای سیستم، کانال‌های ارتباطی، ذخیره‌سازی مداوم، فرآیند‌ها
\item
محیط\LTRfootnote{Enviroment}: عملکرد عادی، راه اندازی، خاموش کردن، حالت تعمیر، عملکرد تخریب شده، عملکرد بیش از حد
\item
پاسخ\LTRfootnote{Response} : جلوگیری از این که یک خطا منجر به یک شکست شود. به این منظور نیاز است که ابتدا خطا شناخته شود. در صورت وجود خطا تاریخچه آن حفظ شود و سیستم‌ها و آدم‌های مرتبط اطلاع داده شود. همچنین نیاز است که بازیابی پس از انجام خطا نیز انجام شود که شامل غیرفعال کردن منبعی که باعث خطا شده است، غیرفعال کردن تا زمانی که تعمیر تکمیل شود، تعمیر خطا و شکست و عمل کردن در مد کاهش‌داده شده\footnote{\lr{degraded mode}} تا زمانی که تعمیر تکمیل شود.
\item
اندازه گیری پاسخ\LTRfootnote{Response Measure}: موارد بسیاری را می‌توان در نظر گرفت که به مقدار زمانی که سیستم دردسترس است اشاره دارد. از جمله آن‌ها می‌توان به درصد در دسترسی‌پذیری، زمانی که تا تشخیص خطا طول می‌کشد، زمانی که تا تعمیر طول ‌می‌کشد، مقدار زمانی که سیستم در حالت کاهش یافته عمل می‌کند اشاره کرد. 
\end{itemize}

\section{تاکتیک ها در دسترسی‌پذیری}
تاکتیک های در دسترس‌پذیری به گونه ای طراحی شده اند که سیستم را قادر می سازد تا خطاهای سیستم را تحمل کند تا سرویس ارائه شده توسط سیستم با مشخصات آن مطابقت داشته باشد و به شکست ختم نشود.تاکتیک های دسترسی‌پذیری را می توان به سه دسته ی تشخیص خطا\lr{fault detection} ،بازیابی از خطا\lr{fault recovery} و جلوگیری از خطا\lr{fault prevention} تقسیم بندی کرد.
\subsection{تشخیص خطا}
اولین قدم برای جلوگیری از شکست تشخیص خطاست.به منظور تشخیص خطا سیستم می تواند از روش های زیر استفاده کند:
\begin{itemize}
\item
Ping / Echo
\item
نظارت\LTRfootnote{Monitor}
\item
Heartbeat
\item
Timestamp
\item
عقل سنجی\LTRfootnote{Sanity Checking}
\item
نظارت بر شرایط\LTRfootnote{Condition Monitoring}
\item
رای دادن \LTRfootnote{Voting}
\item
شناسایی استثنا\LTRfootnote{Exception Detection}
\item
خودآزمونی \LTRfootnote{self-test}
\end{itemize}
\subsection{بازیابی از خطا}
تاکتیک های بازیابی از خطاها در قالب روش‌های آماده سازی و ترمیم و تکنیک‌های بازآفرینی سیستم پیاده سازی می شوند.روش های بازآفرینی دغدغه ی راه اندازی مجدد یک سیستم شکست خورده را دارند.روش های ترمیم شامل موارد زیر هستند.
\begin{itemize}
\item
افزونگی فعال \LTRfootnote{Active redundancy}
\item
افزونگی منفعل \LTRfootnote{Passive redundancy}
\item
پشتیبان \LTRfootnote{Spare}
\item
کنترل استثنا \LTRfootnote{Exception handling}
\item
بازگشت به عقب \LTRfootnote{Rollback}
\item
به روز‌رسانی نرم‌افزار \LTRfootnote{Software Upgrade}
\item
امتحان مجدد \LTRfootnote{Try}
\item
نادیده گرفتن رفتار دارای خطا
\item
تخریب \LTRfootnote{The degradation}
\item
پیکربندی \LTRfootnote{Reconfiguration}
\end{itemize}
و روش های بازآفرینی سیستمی که پس از شکست از اصلاح شده است، شامل موارد زیر است:
\begin{itemize}
\item
سایه \LTRfootnote{The Shadow}
\item
هماهنگ سازی مجدد \LTRfootnote{State resynchronization}
\item
راه اندازی مجدد افزایشی \LTRfootnote{Escalating restart}
\end{itemize}
\subsection{جلوگیری از خطا}
به جای شناسایی خطاها و سپس تلاش برای بازیابی آنها، در این تاکتیک سیستم سعی می کند تا از خطا جلوگیری کند.هر چند انجام چنین کاری در نگاه اول دشوار بنظر می رسد اما در بسیاری از موارد انجام چنین کاری ممکن است.
\begin{itemize}
\item 
حذف از سرویس \LTRfootnote{Removal from service}
\item
تراکنش ها \LTRfootnote{Transactions}
\item
مدل پیش‌بینی \LTRfootnote{Predictive Model}
\item
پیشگیری از استثنا \LTRfootnote{Exception prevention}
\item
افزایش مجموعه‌ی صلاحیت‌ها \LTRfootnote{Increase competence set}
\end{itemize}

\section{طراحی فهرست بازبینی برای دسترسی‌پذیری}
\subsection{تخصیص مسئولیت ها} 
در زمان تخصیص مسئولیت ها باید \LTRfootnote{Allocation of Responsibilities} به موارد زیر توجه شود:
\begin{itemize}
\item
مسئولیت های سیستم را که باید بسیار در‌دسترس باشند تعیین کنید.
\item
اطمینان حاصل کنید که مسئولیتهای اضافی برای تشخیص حذف، خرابی، زمان‌بندی نادرست یا پاسخ نادرست اختصاص داده شده است.
\item
اطمینان حاصل کنید وظائف زیر را به بخش هایی از سیستم تخصیص داده اید:
\begin{itemize}
\item
ثبت\LTRfootnote{Log} خطا ها
\item
اطلاع رسانی به موجودیت های موجود در سیستم
\item
غیر‌فعال‌سازی منشا خطا
\item
خارج شدن از دسترس به صورت موقتی
\item
اصلاح یا پوشاندن\LTRfootnote{mask} خطا
\item
فعالیت سیستم را به حالت کاهش‌یافته \LTRfootnote{Degraded} ببرد
\end{itemize}
\subsection{مدل هماهنگی}
پس از تعیین مهم‌ترین قسمت های سیستم که باید بسیار در‌دسترس باشند،می بایست موارد زیر در نظر گرفته شوند:
\begin{itemize}
\item
اطمینان حاصل کنید که مکانیسم های هماهنگی می توانند حذف، خرابی، زمان‌بندی نادرست یا پاسخ نادرست را تشخیص دهند. برای مثال در نظر بگیرید که آیا تحویل تضمینی ضروری است؟ آیا هماهنگی در شرایط ارتباطات تضعیف شده کار خواهد کرد؟
\item
اطمینان حاصل کنید که مکانیسم های هماهنگی امکان ثبت گزارش از خطا، اطلاع رسانی به موجودیت های مناسب، غیرفعال کردن منبع ایجاد کننده خطا، رفع یا پوشاندن خطا و یا عملکرد در حالت کاهش یافته را دارند.
\item
اطمینان حاصل کنید که مدل هماهنگی از جایگزینی مصنوعات استفاده شده مثل پردازنده ها ، کانال های ارتباطی ، سخت افزار های ذخیره سازی و فرآیندها پشتیبانی می کند. به عنوان مثال، آیا جایگزینی سرور اجازه می دهد سیستم به کار خود ادامه دهد؟
\item
تعیین کنید که آیا این هماهنگی در شرایط ارتباطات کاهش یافته، هنگام راه اندازی\LTRfootnote{Startup}/ خاموش شدن\LTRfootnote{Shutdown}، در حالت تعمیر\LTRfootnote{Repair mode} یا تحت کار بیش از حد\LTRfootnote{OverLoaded} به درستی فعالیت می کند.به عنوان مثال، مدل هماهنگی چقدر اطلاعات از دست رفته\LTRfootnote{Lost information} را تحمل می کند و با چه عواقبی؟
\end{itemize}
\begin{itemize}
\item
حجم ترافیکی که به صورت مستقیم توسط سیستم های تحت کنترل و حتی سیستم هایی که شما کنترلی بر روی آن ها ندارید ایجاد می شود.
\item
ارسال به موقع پیام ها از سمت سیستم شما
\item
هم زمانی\LTRfootnote{Currency} ارسال پیام از سمت سیستم شما
\item
و شاید مهم تر از همه این است که اطمینان حاصل کنید سیستم های تحت کنترل شما فرضیات قابل انطابقی در همکاری با سایر سیستم هایی که شما کنترلی بر روی آن ها ندارید،‌در نظر گرفته اند.
\end{itemize}
\subsection{مدل داده}
مدل داده\LTRfootnote{Data Model}  از مهم ترین بخش هایی است که اگر به درستی بر آن نظارت صورت نپذیرد می تواند عواقب سنگینی را به همراه داشته باشد.در مدل داده ای باید از برداشت یکسان طرفین همکاری از اطلاعات اطمینان حاصل کنید.به این منظورم لازم است تا انتزاعات اصلی داده های مبادله شده از نظر نحو و معناشناسی مورد بررسی دقیق قرار بگیرند.
\subsection{نقشه برداری در میان عناصر معماری}
جدا از ملاحظاتی که در نقشه برداری در میان عناصر معماری\LTRfootnote{Mapping among Architectural Elements} درباره امنیت،‌ دسترس‌پذیری و کارائی وجود دارد و در سایر فصل های این مستند به آن ها پرداخته خواهد شد؛ در رابطه با قابلیت همکاری مساله ی مهم نگاشت درست از اعضای سازنده ی پردازنده ها است.
\subsection{مدیریت منابع}
لازم است معمار نرم افزار اطمینان حاصل کند منابعی که سیستم به جهت همکاری با سایر سیستم ها نیاز دارد هیچ گاه سیستم را تحت فشار غیر قابل تحمل قرار نخواهد داد و بار منابع تحمیل شده توسط الزامات همکاری همواره قابل قبول است.

در ضمن نیاز یک سیستم ناظر با هدف تخصیص منابع به صورت منصفانه و بر پایه ی سیاست های تبیین شده در معماری باید حتما دیده شود.
\subsection{زمان اتصال}
لازم است سیستم هایی که ممکن است با یکدیگر همکاری داشته باشند شناسایی شده و از رعایت موارد زیر در مورد آن ها اطمینان حاصل شود.
\begin{itemize}
\item
از وجود یک سیاست مشخص به منظور همکاری با سیستم های شناخته شده و ناشناخته خارجی اطمینان حاصل کنید.
\item
از وجود قوانینی برای عدم پذیرش درخواست ها و ثبت درخواست هایی که پذیرفته نشده اند اطمینان حاصل کنید.
\item
در صورت تاخیر در اتصال ، اطمینان حاصل کنید که مکانیزم هایی از کشف خدمات یا پروتکل های جدید مرتبط یا ارسال اطلاعات با استفاده از پروتکل های انتخاب شده پشتیبانی می کنند.
\end{itemize}
\subsection{انتخاب فناوری}
در انتخاب فناوری باید روی این مساله تمرکز نمائید که انتخاب هر فناوری چه تاثیراتی بر روی رابط ها و همکاری سیستم با دیگر سیستم ها خواهد داشت.بررسی کنید آیا فناوری آیای انتخاب شده توانایی پاسخ گویی به نیاز هایی که توسط قابلیت همکاری مطرح می شوند را دارا هستند و یا خیر؟



















